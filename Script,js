function processarMensagem(mensagemUsuario) {
    // 1. LISTA NEGRA (O que a IA deve ignorar totalmente)
    const frasesDeSistema = [
        "recebi!",
        "scroll automático",
        "garantiu que você visse",
        "mensagem do sistema"
    ];

    // Verifica se a mensagem contém QUALQUER uma das frases proibidas
    const ehMensagemInvalida = frasesDeSistema.some(frase => 
        mensagemUsuario.toLowerCase().includes(frase)
    );

    // Se for mensagem de sistema, para a execução aqui mesmo
    if (ehMensagemInvalida) {
        console.log("Sistema: Ignorando mensagem de log/scroll.");
        return null; 
    }

    // 2. LÓGICA DE CUMPRIMENTO (Só chega aqui se não for lixo)
    const gatilhosSaudacao = ["oi", "olá", "bom dia", "boa tarde", "e aí"];
    const mensagemLimpa = mensagemUsuario.toLowerCase().trim();

    if (gatilhosSaudacao.includes(mensagemLimpa)) {
        return "Olá! Agora sim, parei de repetir aquele erro.";
    }

    return "Entendido. Como posso ajudar?";
}
